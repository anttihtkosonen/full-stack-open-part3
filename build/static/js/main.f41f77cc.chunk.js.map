{"version":3,"sources":["components/Filter.js","components/ShowPersons.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","filterFunction","react_default","a","createElement","onChange","ShowPersons","persons","search","onClick","filter","rivit","person","map","key","id","name","number","type","baseUrl","personService","getAll","axios","get","then","response","data","createPerson","newObject","post","deletePerson","console","log","delete","concat","modifyPerson","put","Notification","message","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","personObj","state","newName","newNumber","nimet","window","alert","includes","updatePerson","setState","setTimeout","confirm","changedPerson","find","i","catch","error","handleAddPerson","target","handleAddNum","handleFind","findPerson","personData","length","match","RegExp","newPersonsList","_this2","_this3","components_Notification","onSubmit","components_Filter","components_ShowPersons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f41f77cc.chunk.js","sourcesContent":["\nimport React from 'react';\n\n\nconst Filter = ({value, filterFunction}) => {\n    return (\n      <div>\n            Rajaa näytettäviä: <input value={value} onChange={filterFunction} />\n      </div>\n    )\n}\n\n\nexport default Filter","\nimport React from 'react';\n\n\nconst ShowPersons = ({persons, search, filter, onClick}) => {\n\n    const rivit = persons.filter(person=>search(person)).map(person => \n        <tr key={person.id}>\n          <td>{person.name}</td> \n          <td>{person.number}</td>\n          <td><button type=\"button\" onClick={()=>onClick(person)}>Poista</button></td>\n        </tr>\n\n      )\n    \n    return (\n      <div>\n        <table>\n          <tbody>\n            {rivit}\n          </tbody>\n        </table>\n      </div>\n      \n    )\n    }\n\n\nexport default ShowPersons","import axios from 'axios'\n//const baseUrl = 'https://polar-spire-32000.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios\n    .get(baseUrl)\n    .then(response=>response.data)\n\n}\n  \nconst createPerson = (newObject) => {\n    return axios\n    .post(baseUrl, newObject)\n    .then(response => response.data)\n}\n  \nconst deletePerson = (person) => {\n    console.log(person.id)\n    return axios\n    .delete(`${baseUrl}/${person.id}`)\n    .then(response => response.data)\n}\n\nconst modifyPerson = (person) => {\n    return axios\n    .put(`${baseUrl}/${person.id}`, person)\n    .then(response => response.data)\n}\n\n  export default { getAll, createPerson, deletePerson, modifyPerson }","\nimport React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import React from 'react';\nimport Filter from './components/Filter';\nimport ShowPersons from './components/ShowPersons';\nimport personService from './services/personService';\nimport Notification from './components/Notification';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      message: ''\n    }\n  }\n\n  componentDidMount() {\n    console.log('did mount')\n    personService\n      .getAll()\n      .then(persons => {\n        this.setState({ persons })\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const personObj ={\n      name: this.state.newName,\n      number: this.state.newNumber,\n    }\n\n    const nimet = this.state.persons.map(person => person.name)\n\n    if (personObj.name === ''){\n      window.alert(`Anna henkilölle nimi`)\n    }\n\n    else if (nimet.includes(personObj.name) ===false) {\n      this.createPerson(personObj)\n    }  \n    else  {\n      this.updatePerson(personObj)\n    }\n  }\n  \n  createPerson = (personObj) => {\n    personService\n    .createPerson(personObj)\n         .then(response => {\n          this.setState({\n            persons: this.state.persons.concat(response),\n            newName: '',\n            newNumber: '',\n            filter: '',\n            message: response.name+' lisättiin palvelimelle'\n          })\n          setTimeout(() => {this.setState({message: ''})}, 4000)\n    }) \n  }\n\n  updatePerson = (personObj) => {\n    const result = window.confirm(personObj.name+' on jo luettelossa - korvataanko vanha numero uudella?')\n    if (result===true) {          \n      const changedPerson=  this.state.persons.find(i=>i.name === personObj.name)\n      changedPerson.number = this.state.newNumber\n      personService\n      .modifyPerson(changedPerson)\n      .catch(error => {\n        const result = window.confirm(`Henkilön '${changedPerson.name}' tiedot on jo poistettu palvelimelta - lisätäänkö antamasi tiedot uudelleen palvelimelle?`)\n        if (result === true) {\n          this.createPerson(personObj)\n        }\n      })\n      .then(() =>\n        personService\n        .getAll()\n        .then(response =>{\n          this.setState({\n            persons: response,\n            newName: '',\n            newNumber: '',\n            filter: '',\n            message: personObj.name + ' numeroa muutettiin'\n          })\n        setTimeout(() => {this.setState({message: ''})}, 4000)\n        })\n      )\n\n    }\n  }\n  \n\n  handleAddPerson = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\n  handleAddNum = (event) => {\n    console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n\n  handleFind =(event) => {\n    console.log(event.target.value)\n    this.setState({ filter: event.target.value })\n  }\n\n  findPerson = (person) => {\n    const personData=person.name+' '+person.number\n    return this.state.filter.length === 0 || personData.match(new RegExp(this.state.filter, 'i'))\n  }\n\n  onClick = (person) => {\n    const result = window.confirm('Haluatko varmasti poistaa henkilön ' +person.name )\n    if(result) {\n      console.log(person)\n      personService.deletePerson(person)\n        .catch(error => {\n          window.alert(`Henkilöä nimeltä '${person.name}' ei löydy palvelimelta`)\n        })\n      const newPersonsList = this.state.persons.filter(i=>i.id !== person.id)\n      this.setState({ \n        persons: newPersonsList,\n        message: person.name + ' poistettiin palvelimelta'\n      })\n      setTimeout(() => {this.setState({message: ''})}, 4000)\n    } \n}\n\n\n  render() {\n    return (\n      <div>\n        <h1>Puhelinluettelo</h1>\n        <Notification message={this.state.message}/>\n        <form onSubmit={this.findPerson} >\n          <Filter value={this.state.filter} filterFunction = {this.handleFind} />\n        </form>\n        <h2>Lisää uusi</h2>\n        <form onSubmit={this.addPerson} >\n          <div>\n            nimi: <input \n              value = {this.state.newName} \n              onChange={this.handleAddPerson}\n              />\n          </div>\n          <div>\n            numero: <input \n              value = {this.state.newNumber} \n              onChange={this.handleAddNum}\n            />\n          </div>          \n          <div>\n            <button type=\"submit\">lisää</button>\n          </div>\n        </form>\n\n        <h2>Numerot</h2>\n        <ShowPersons search = {person => this.findPerson(person)} persons = {this.state.persons} onClick={this.onClick} />\n      </div>\n    )\n  }\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}